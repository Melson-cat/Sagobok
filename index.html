<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BokPiloten – Skapa din AI-illustrerade bok</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet" />
</head>
<body data-theme="kids">
  <header class="site-header">
    <a href="/" class="brand">
      <img src="images/pilot-logo.png" alt="BokPiloten" />
      <span>BokPiloten</span>
    </a>
    <nav class="main-nav" aria-label="Huvudmeny">
      <a href="#bookForm">Skapa bok</a>
      <a href="#examples">Exempel</a>
      <a href="#about">Om oss</a>
    </nav>
    <button id="navToggle" class="hamburger" aria-label="Meny" aria-expanded="false">☰</button>
  </header>

  <!-- Mobilmeny -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <nav>
      <a href="#bookForm">Skapa bok</a>
      <a href="#examples">Exempel</a>
      <a href="#about">Om oss</a>
    </nav>
  </div>

  <main class="container">
    <section class="intro">
      <h1>Skapa din egen AI-illustrerade bok</h1>
      <p>Fyll i några detaljer, välj stil och se din berättelse ta form med både text och bilder.</p>
    </section>

    <!-- FORMULÄR -->
    <section id="bookForm" class="panel">
      <form id="storyForm" novalidate>

        <!-- Rad 0: Kategori (segmented toggle högst upp) -->
        <div class="form-row">
          <div class="field col-span-3">
            <label>Kategori</label>
            <div class="seg" role="tablist" aria-label="Kategori">
              <button type="button" class="seg-btn active" id="catKidsBtn" role="tab" aria-selected="true">Barn</button>
              <button type="button" class="seg-btn" id="catPetsBtn" role="tab" aria-selected="false">Husdjur</button>
            </div>
          </div>
        </div>

        <!-- Rad 1 -->
        <div class="form-row">
          <div class="field">
            <label for="name">Namn</label>
            <input id="name" placeholder="Ex: Nova" />
          </div>
          <div class="field">
            <label for="age">Ålder</label>
            <input id="age" type="number" min="1" value="6" />
          </div>
          <div class="field">
            <label for="pages">Antal sidor</label>
            <select id="pages">
              <option value="12">Kort (12)</option>
              <option value="16" selected>Medium (16)</option>
              <option value="20">Lång (20)</option>
            </select>
          </div>
        </div>

        <!-- Rad 2 -->
<div class="form-row">
  <div class="field">
    <label for="style">Illustrationsstil</label>
    <select id="style">
      <option value="cartoon" selected>Cartoon (tecknad, uttrycksfull)</option>
      <option value="pixar">3D animerad (Pixar-känsla)</option>
      <option value="storybook">Barnbok / Akvarell</option>
      <option value="comic">Serietidning</option>
      <option value="painting">Målad (mjuk/painterly)</option>
    </select>
  </div>

          <div class="field col-span-2">
            <label for="theme">Tema / kort handling</label>
            <input id="theme" placeholder="Ex: Skogsäventyr vid bäcken" />
          </div>
        </div>

        <!-- Rad 3: Karaktärsreferens toggle -->
        <div class="form-row">
          <div class="field col-span-3">
            <label>Karaktärsreferens</label>
            <div class="seg" role="tablist" aria-label="Karaktärsreferens">
              <button type="button" class="seg-btn active" id="refDescBtn" role="tab" aria-selected="true">Beskrivning</button>
              <button type="button" class="seg-btn" id="refPhotoBtn" role="tab" aria-selected="false">Foto</button>
            </div>
          </div>

          <!-- Beskrivning -->
          <div class="field col-span-2" id="traitsBlock">
            <label for="traits">Kännetecken (beskrivning)</label>
            <textarea id="traits" rows="3" placeholder="Ex: lockigt hår, blå jacka, gula stövlar, ryggsäck med stjärna"></textarea>
            <p class="hint">Kort och konkret – hjälper AI:n hålla karaktären konsekvent.</p>
          </div>

          <!-- Foto -->
          <div class="field col-span-2 hidden" id="photoBlock">
            <label for="charPhoto">Ladda upp foto (valfritt)</label>
            <input id="charPhoto" type="file" accept="image/*" />
            <div class="upload-preview">
              <img id="photoPreview" class="hidden" alt="Förhandsvisning" />
            </div>
            <p class="hint">Används om bild-till-bild stöds. Annars faller vi tillbaka på beskrivning.</p>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn btn-primary">Skapa förhandsvisning</button>
          <button id="demoBtn" type="button" class="btn btn-ghost">Visa demo</button>
        </div>
      </form>
    </section>

    <!-- FÖRHANDSVISNING -->
    <section id="preview" class="hidden">
      <div id="statusBar" class="status-bar hidden"></div>
      <h2>Förhandsvisning</h2>
      <p class="preview-note">Du ser de <strong>4 första</strong> sidorna skarpt. Resterande är suddade tills du skapar boken.</p>
      <div id="bookPreview" class="thumb-grid"></div>
    </section>

    <!-- Dummy-ankare för menyn -->
    <section id="examples" class="about">
      <h3>Exempel</h3>
      <p class="hint">Kommer snart.</p>
    </section>

    <section id="about" class="about">
      <h3>Om BokPiloten</h3>
      <p>Vi hjälper dig skapa personliga, AI-illustrerade böcker – snabbt och enkelt.</p>
    </section>
  </main>

  <footer class="site-footer">
    <p>© 2025 BokPiloten</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
