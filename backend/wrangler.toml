name = "bokpilot-backend"
main = "worker.js"
compatibility_date = "2025-10-14"  # funkar
workers_dev = true

[vars]
CF_ACCOUNT_ID = "54ac54fed54dbb3692953f74fb7a3498"
CF_IMAGES_ACCOUNT_HASH = "JHrhPeCvgX2JnGnpk89sUA"
CF_IMAGES_VARIANT = "public"
FONT_BASE_URL = "https://sagobok.pages.dev/fonts"
FRONTEND_ORIGIN = "https://sagobok.pages.dev"
SUCCESS_URL = "https://sagobok.pages.dev/success.html"
CANCEL_URL  = "https://sagobok.pages.dev/"
PDF_PUBLIC_BASE = "https://pub-524c19f497c94f8cbdbe85bdb03a7be4.r2.dev"
GELATO_PRODUCT_UID = "photobooks-hardcover_pf_200x200-mm-8x8-inch_pt_170-gsm-65lb-coated-silk_cl_4-4_ccl_4-4_bt_glued-left_ct_matt-lamination_prt_1-0_cpt_130-gsm-65-lb-cover-coated-silk_ver"
GELATO_DEFAULT_COUNTRY = "SE"
GELATO_DEFAULT_CURRENCY = "SEK"
EMAIL_FROM = "Sagostugan <no-reply@sagostugan.se>"
QA_ENABLED = "1"
QA_AUTO_REGEN = "0" 
QA_MASTER_MODEL = "gpt-5-mini"

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true

[[kv_namespaces]]
binding = "ORDERS"
id = "0e26ac0291c741708ba2b02394b163db"

[[r2_buckets]]
binding = "PDF_BUCKET"
bucket_name = "pdf-bucket"
